-- PostgreSQL and PostGIS Raster Version Information
                                                            version                                                            
-------------------------------------------------------------------------------------------------------------------------------
 PostgreSQL 13.16 (Debian 13.16-1.pgdg110+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 10.2.1-6) 10.2.1 20210110, 64-bit
(1 row)

 extname | extversion 
---------+------------
 postgis | 3.4.3
(1 row)


PostGIS Raster Extension Status:
 raster_installed 
------------------
 f
(1 row)

Installing PostGIS Raster extension if not present...
CREATE EXTENSION
    extname     | extversion 
----------------+------------
 postgis_raster | 3.4.3
(1 row)

Output format is unaligned.
-- ================================================================================
-- RASTER VIEW COLUMN INFORMATION
-- ================================================================================
schema_name|view_name|columns
public|raster_columns|r_table_catalog, r_table_schema, r_table_name, r_raster_column, srid, scale_x, scale_y, blocksize_x, blocksize_y, same_alignment, regular_blocking, num_bands, pixel_types, nodata_values, out_db, extent, spatial_index
public|raster_overviews|o_table_catalog, o_table_schema, o_table_name, o_raster_column, r_table_catalog, r_table_schema, r_table_name, r_raster_column, overview_factor
-- ================================================================================
-- RASTER TABLE INFORMATION
-- ================================================================================
schema_name|table_name|columns
-- ================================================================================
-- RASTER FUNCTION INFORMATION
-- ================================================================================
schema_name|function_name|function_args|return_type
public|_st_asraster|geom geometry, scalex double precision DEFAULT 0, scaley double precision DEFAULT 0, width integer DEFAULT 0, height integer DEFAULT 0, pixeltype text[] DEFAULT ARRAY['8BUI'::text], value double precision[] DEFAULT ARRAY[(1)::double precision], nodataval double precision[] DEFAULT ARRAY[(0)::double precision], upperleftx double precision DEFAULT NULL::double precision, upperlefty double precision DEFAULT NULL::double precision, gridx double precision DEFAULT NULL::double precision, gridy double precision DEFAULT NULL::double precision, skewx double precision DEFAULT 0, skewy double precision DEFAULT 0, touched boolean DEFAULT false|raster
public|geometry_contained_by_raster|geometry, raster|bool
public|st_asgdalraster|rast raster, format text, options text[] DEFAULT NULL::text[], srid integer DEFAULT NULL::integer|bytea
public|st_asraster|geom geometry, width integer, height integer, pixeltype text, value double precision DEFAULT 1, nodataval double precision DEFAULT 0, upperleftx double precision DEFAULT NULL::double precision, upperlefty double precision DEFAULT NULL::double precision, skewx double precision DEFAULT 0, skewy double precision DEFAULT 0, touched boolean DEFAULT false|raster
public|st_asraster|geom geometry, width integer, height integer, gridx double precision, gridy double precision, pixeltype text, value double precision DEFAULT 1, nodataval double precision DEFAULT 0, skewx double precision DEFAULT 0, skewy double precision DEFAULT 0, touched boolean DEFAULT false|raster
public|st_asraster|geom geometry, scalex double precision, scaley double precision, pixeltype text, value double precision DEFAULT 1, nodataval double precision DEFAULT 0, upperleftx double precision DEFAULT NULL::double precision, upperlefty double precision DEFAULT NULL::double precision, skewx double precision DEFAULT 0, skewy double precision DEFAULT 0, touched boolean DEFAULT false|raster
public|st_asraster|geom geometry, scalex double precision, scaley double precision, gridx double precision, gridy double precision, pixeltype text, value double precision DEFAULT 1, nodataval double precision DEFAULT 0, skewx double precision DEFAULT 0, skewy double precision DEFAULT 0, touched boolean DEFAULT false|raster
public|st_asraster|geom geometry, width integer, height integer, pixeltype text[], value double precision[] DEFAULT ARRAY[(1)::double precision], nodataval double precision[] DEFAULT ARRAY[(0)::double precision], upperleftx double precision DEFAULT NULL::double precision, upperlefty double precision DEFAULT NULL::double precision, skewx double precision DEFAULT 0, skewy double precision DEFAULT 0, touched boolean DEFAULT false|raster
public|st_asraster|geom geometry, width integer, height integer, gridx double precision DEFAULT NULL::double precision, gridy double precision DEFAULT NULL::double precision, pixeltype text[] DEFAULT ARRAY['8BUI'::text], value double precision[] DEFAULT ARRAY[(1)::double precision], nodataval double precision[] DEFAULT ARRAY[(0)::double precision], skewx double precision DEFAULT 0, skewy double precision DEFAULT 0, touched boolean DEFAULT false|raster
public|st_asraster|geom geometry, scalex double precision, scaley double precision, gridx double precision DEFAULT NULL::double precision, gridy double precision DEFAULT NULL::double precision, pixeltype text[] DEFAULT ARRAY['8BUI'::text], value double precision[] DEFAULT ARRAY[(1)::double precision], nodataval double precision[] DEFAULT ARRAY[(0)::double precision], skewx double precision DEFAULT 0, skewy double precision DEFAULT 0, touched boolean DEFAULT false|raster
public|st_asraster|geom geometry, scalex double precision, scaley double precision, pixeltype text[], value double precision[] DEFAULT ARRAY[(1)::double precision], nodataval double precision[] DEFAULT ARRAY[(0)::double precision], upperleftx double precision DEFAULT NULL::double precision, upperlefty double precision DEFAULT NULL::double precision, skewx double precision DEFAULT 0, skewy double precision DEFAULT 0, touched boolean DEFAULT false|raster
public|st_asraster|geom geometry, ref raster, pixeltype text, value double precision DEFAULT 1, nodataval double precision DEFAULT 0, touched boolean DEFAULT false|raster
public|st_asraster|geom geometry, ref raster, pixeltype text[] DEFAULT ARRAY['8BUI'::text], value double precision[] DEFAULT ARRAY[(1)::double precision], nodataval double precision[] DEFAULT ARRAY[(0)::double precision], touched boolean DEFAULT false|raster
public|st_band|rast raster, nband integer|raster
public|st_band|rast raster, nbands text, delimiter character DEFAULT ','::bpchar|raster
public|st_band|rast raster, nbands integer[] DEFAULT ARRAY[1]|raster
public|st_bandfilesize|rast raster, band integer DEFAULT 1|int8
public|st_bandfiletimestamp|rast raster, band integer DEFAULT 1|int8
public|st_bandisnodata|rast raster, forcechecking boolean|bool
public|st_bandisnodata|rast raster, band integer DEFAULT 1, forcechecking boolean DEFAULT false|bool
public|st_bandnodatavalue|rast raster, band integer DEFAULT 1|float8
public|st_bandpath|rast raster, band integer DEFAULT 1|text
public|st_fromgdalraster|gdaldata bytea, srid integer DEFAULT NULL::integer|raster
public|st_hasnoband|rast raster, nband integer DEFAULT 1|bool
public|st_height|raster|int4
public|st_interpolateraster|geom geometry, options text, rast raster, bandnumber integer DEFAULT 1|raster
public|st_makeemptyraster|width integer, height integer, upperleftx double precision, upperlefty double precision, pixelsize double precision|raster
public|st_makeemptyraster|width integer, height integer, upperleftx double precision, upperlefty double precision, scalex double precision, scaley double precision, skewx double precision, skewy double precision, srid integer DEFAULT 0|raster
public|st_makeemptyraster|rast raster|raster
public|st_numbands|raster|int4
public|st_pixelheight|raster|float8
public|st_pixelwidth|raster|float8
public|st_rastertoworldcoord|rast raster, columnx integer, rowy integer, OUT longitude double precision, OUT latitude double precision|record
public|st_rastertoworldcoordx|rast raster, xr integer|float8
public|st_rastertoworldcoordx|rast raster, xr integer, yr integer|float8
public|st_rastertoworldcoordy|rast raster, xr integer, yr integer|float8
public|st_rastertoworldcoordy|rast raster, yr integer|float8
public|st_rotation|raster|float8
public|st_scalex|raster|float8
public|st_scaley|raster|float8
public|st_setbandnodatavalue|rast raster, nodatavalue double precision|raster
public|st_setbandnodatavalue|rast raster, band integer, nodatavalue double precision, forcechecking boolean DEFAULT false|raster
public|st_skewx|raster|float8
public|st_skewy|raster|float8
public|st_srid|geog geography|int4
public|st_srid|geom geometry|int4
public|st_srid|raster|int4
public|st_upperleftx|raster|float8
public|st_upperlefty|raster|float8
public|st_width|raster|int4
public|st_worldtorastercoord|rast raster, pt geometry, OUT columnx integer, OUT rowy integer|record
public|st_worldtorastercoord|rast raster, longitude double precision, latitude double precision, OUT columnx integer, OUT rowy integer|record
public|st_worldtorastercoordx|rast raster, xw double precision|int4
public|st_worldtorastercoordx|rast raster, pt geometry|int4
public|st_worldtorastercoordx|rast raster, xw double precision, yw double precision|int4
public|st_worldtorastercoordy|rast raster, xw double precision, yw double precision|int4
public|st_worldtorastercoordy|rast raster, yw double precision|int4
public|st_worldtorastercoordy|rast raster, pt geometry|int4
-- ================================================================================
-- RASTER DATA TYPES
-- ================================================================================
schema_name|type_name|type_kind|type_description
public|_raster|b|base type
public|_raster_columns|b|base type
public|_raster_overviews|b|base type
public|addbandarg|c|composite type
public|rastbandarg|c|composite type
public|raster|b|base type
public|raster_columns|c|composite type
public|raster_overviews|c|composite type
public|reclassarg|c|composite type
public|unionarg|c|composite type
-- ================================================================================
-- RASTER VIEW DEFINITIONS
-- ================================================================================
Field separator is "|
".
schema_name|
view_name|
definition
public|
raster_columns|
 SELECT current_database() AS r_table_catalog,
    n.nspname AS r_table_schema,
    c.relname AS r_table_name,
    a.attname AS r_raster_column,
    COALESCE(_raster_constraint_info_srid(n.nspname, c.relname, a.attname), ( SELECT st_srid('010100000000000000000000000000000000000000'::geometry) AS st_srid)) AS srid,
    _raster_constraint_info_scale(n.nspname, c.relname, a.attname, 'x'::bpchar) AS scale_x,
    _raster_constraint_info_scale(n.nspname, c.relname, a.attname, 'y'::bpchar) AS scale_y,
    _raster_constraint_info_blocksize(n.nspname, c.relname, a.attname, 'width'::text) AS blocksize_x,
    _raster_constraint_info_blocksize(n.nspname, c.relname, a.attname, 'height'::text) AS blocksize_y,
    COALESCE(_raster_constraint_info_alignment(n.nspname, c.relname, a.attname), false) AS same_alignment,
    COALESCE(_raster_constraint_info_regular_blocking(n.nspname, c.relname, a.attname), false) AS regular_blocking,
    _raster_constraint_info_num_bands(n.nspname, c.relname, a.attname) AS num_bands,
    _raster_constraint_info_pixel_types(n.nspname, c.relname, a.attname) AS pixel_types,
    _raster_constraint_info_nodata_values(n.nspname, c.relname, a.attname) AS nodata_values,
    _raster_constraint_info_out_db(n.nspname, c.relname, a.attname) AS out_db,
    _raster_constraint_info_extent(n.nspname, c.relname, a.attname) AS extent,
    COALESCE(_raster_constraint_info_index(n.nspname, c.relname, a.attname), false) AS spatial_index
   FROM pg_class c,
    pg_attribute a,
    pg_type t,
    pg_namespace n
  WHERE t.typname = 'raster'::name AND a.attisdropped = false AND a.atttypid = t.oid AND a.attrelid = c.oid AND c.relnamespace = n.oid AND (c.relkind = ANY (ARRAY['r'::"char", 'v'::"char", 'm'::"char", 'f'::"char", 'p'::"char"])) AND NOT pg_is_other_temp_schema(c.relnamespace) AND has_table_privilege(c.oid, 'SELECT'::text);
public|
raster_overviews|
 SELECT current_database() AS o_table_catalog,
    n.nspname AS o_table_schema,
    c.relname AS o_table_name,
    a.attname AS o_raster_column,
    current_database() AS r_table_catalog,
    split_part(split_part(s.consrc, '''::name'::text, 1), ''''::text, 2)::name AS r_table_schema,
    split_part(split_part(s.consrc, '''::name'::text, 2), ''''::text, 2)::name AS r_table_name,
    split_part(split_part(s.consrc, '''::name'::text, 3), ''''::text, 2)::name AS r_raster_column,
    btrim(split_part(s.consrc, ','::text, 2))::integer AS overview_factor
   FROM pg_class c,
    pg_attribute a,
    pg_type t,
    pg_namespace n,
    ( SELECT pg_constraint.connamespace,
            pg_constraint.conrelid,
            pg_constraint.conkey,
            pg_get_constraintdef(pg_constraint.oid) AS consrc
           FROM pg_constraint) s
  WHERE t.typname = 'raster'::name AND a.attisdropped = false AND a.atttypid = t.oid AND a.attrelid = c.oid AND c.relnamespace = n.oid AND (c.relkind::text = ANY (ARRAY['r'::character(1), 'v'::character(1), 'm'::character(1), 'f'::character(1)]::text[])) AND s.connamespace = n.oid AND s.conrelid = c.oid AND s.consrc ~~ '%_overview_constraint(%'::text AND NOT pg_is_other_temp_schema(c.relnamespace) AND has_table_privilege(c.oid, 'SELECT'::text);
-- ================================================================================
-- RASTER SYSTEM CATALOG INFORMATION
-- ================================================================================
Field separator is " | ".
Output format is aligned.
Raster Catalog Views:
 schemaname |     viewname     | viewowner 
------------+------------------+-----------
 public     | raster_columns   | postgres
 public     | raster_overviews | postgres

-- ================================================================================
-- RASTER EXTENSION DETAILS
-- ================================================================================
    extname     | extversion | extrelocatable | schema_name | config_tables | conditions 
----------------+------------+----------------+-------------+---------------+------------
 postgis_raster | 3.4.3      | f              | public      |               | 

-- ================================================================================
-- RASTER SAMPLE DATA (if any raster tables exist)
-- ================================================================================
Raster Columns Information:
psql:/tmp/postgis_raster_extractor.sql:222: NOTICE:  Raster columns view exists and accessible
DO
 r_table_catalog | r_table_schema | r_table_name | r_raster_column | srid | scale_x | scale_y | blocksize_x | blocksize_y | same_alignment | regular_blocking | num_bands | pixel_types | nodata_values | out_db | extent 
-----------------+----------------+--------------+-----------------+------+---------+---------+-------------+-------------+----------------+------------------+-----------+-------------+---------------+--------+--------

Raster Overviews Information:
psql:/tmp/postgis_raster_extractor.sql:258: NOTICE:  Raster overviews view exists and accessible
DO
 o_table_catalog | o_table_schema | o_table_name | o_raster_column | r_table_catalog | r_table_schema | r_table_name | r_raster_column | overview_factor 
-----------------+----------------+--------------+-----------------+-----------------+----------------+--------------+-----------------+-----------------

Done with raster extraction.
